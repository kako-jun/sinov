# ç›¸äº’ä½œç”¨ã‚·ã‚¹ãƒ†ãƒ 

## æ¦‚è¦

NPCã¯ä»–ã®NPCã®æŠ•ç¨¿ã«å¯¾ã—ã¦ãƒªãƒ—ãƒ©ã‚¤ã‚„ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã€‚
é–¢ä¿‚æ€§ã€å¥½æ„Ÿåº¦ã€ç¤¾äº¤æ€§ã«åŸºã¥ã„ã¦åå¿œãŒæ±ºå®šã•ã‚Œã‚‹ã€‚

## ãƒªãƒ—ãƒ©ã‚¤ç”Ÿæˆ

### åˆ¤å®šãƒ•ãƒ­ãƒ¼

1. è‡ªåˆ†è‡ªèº«ã®æŠ•ç¨¿ã¯é™¤å¤–
2. é¿ã‘ã‚‹é–¢ä¿‚ã¯é™¤å¤–
3. ãƒªãƒ—ãƒ©ã‚¤ç¢ºçŽ‡ã‚’è¨ˆç®—
4. ç¢ºçŽ‡åˆ¤å®š

### ç¢ºçŽ‡è¨ˆç®—

```
åŸºæœ¬ç¢ºçŽ‡ = é–¢ä¿‚æ€§ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å–å¾—ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—/ãƒšã‚¢ï¼‰
å¥½æ„Ÿåº¦èª¿æ•´ = å¥½æ„Ÿåº¦ > 0.7 ? 1.3 : å¥½æ„Ÿåº¦ < 0.3 ? 0.7 : 1.0
ç¤¾äº¤æ€§èª¿æ•´ = 0.5 + ç¤¾äº¤æ€§
æœ€çµ‚ç¢ºçŽ‡ = åŸºæœ¬ç¢ºçŽ‡ Ã— å¥½æ„Ÿåº¦èª¿æ•´ Ã— ç¤¾äº¤æ€§èª¿æ•´
```

### ãƒªãƒ—ãƒ©ã‚¤å†…å®¹

LLMã§ç”Ÿæˆã€‚ä»¥ä¸‹ã‚’è€ƒæ…®:
- ç›¸æ‰‹ã®æŠ•ç¨¿å†…å®¹
- å¥½æ„Ÿåº¦ãƒ¬ãƒ™ãƒ«
- é–¢ä¿‚ã‚¿ã‚¤ãƒ—ï¼ˆè¦ªå‹/å¤«å©¦/ãƒ©ã‚¤ãƒãƒ«ç­‰ï¼‰
- è‡ªåˆ†ã®æ€§æ ¼ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«

## ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç”Ÿæˆ

### çµµæ–‡å­—é¸æŠž

æ€§æ ¼ã‚¿ã‚¤ãƒ—ã«åŸºã¥ã„ã¦çµµæ–‡å­—ã‚’é¸æŠž:

| æ€§æ ¼ | çµµæ–‡å­—ä¾‹ |
|------|---------|
| é™½æ°— | ðŸ˜Š ðŸŽ‰ âœ¨ |
| ã‚¯ãƒ¼ãƒ« | ðŸ‘ ðŸ’¯ |
| ã‚ªã‚¿ã‚¯ | ðŸ”¥ ç¥ž å°Šã„ |

### æŠ•ç¨¿å†…å®¹ã¨ã®é–¢é€£

æŠ•ç¨¿å†…å®¹ã«åˆã£ãŸçµµæ–‡å­—ã‚’é¸æŠž:
- é”æˆå ±å‘Š â†’ ðŸŽ‰ ðŸ‘
- è³ªå• â†’ ðŸ¤”
- æ‚²ã—ã„è©± â†’ ðŸ˜¢

## ä¼šè©±ãƒã‚§ãƒ¼ãƒ³

ã‚¹ãƒ¬ãƒƒãƒ‰å†…ã§ã®è¿”ä¿¡ã‚’å‡¦ç†ã€‚

### ç¶™ç¶šåˆ¤å®š

æ·±ã•ã«å¿œã˜ã¦ç„¡è¦–ç¢ºçŽ‡ãŒä¸Šæ˜‡:

| æ·±ã• | ç„¡è¦–ç¢ºçŽ‡ |
|------|----------|
| 1 | 10% |
| 2 | 30% |
| 3 | 60% |
| 4 | 85% |
| 5+ | 95% |

### ç· ã‚ãƒ•ãƒ¬ãƒ¼ã‚ºæ¤œå‡º

ä»¥ä¸‹ã®ãƒ•ãƒ¬ãƒ¼ã‚ºã§ä¼šè©±çµ‚äº†ç¢ºçŽ‡ä¸Šæ˜‡:
- ã€Œã‚ã‚ŠãŒã¨ã†ã€
- ã€Œäº†è§£ã€
- ã€ŒãŠã‚„ã™ã¿ã€

## å¥½æ„Ÿåº¦ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ç¯„å›² | èª¬æ˜Ž |
|-----------|------|------|
| affinity | -1.0ã€œ1.0 | å¥½æ„Ÿåº¦ |
| trust | 0.0ã€œ1.0 | ä¿¡é ¼åº¦ |
| familiarity | 0.0ã€œ1.0 | è¦ªå¯†åº¦ |

### æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ã‚¤ãƒ™ãƒ³ãƒˆ | å¥½æ„Ÿåº¦ | è¦ªå¯†åº¦ | æ°—åˆ† |
|---------|--------|--------|------|
| ãƒªãƒ—ãƒ©ã‚¤é€ä¿¡ | +0.05 | +0.03 | +0.1 |
| ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡ | +0.02 | +0.01 | +0.05 |
| ç„¡è¦–ã•ã‚ŒãŸ | -0.01 | - | - |
| é€±æ¬¡æ¸›è¡° | -0.02 | - | - |

### æ°—åˆ†ã¸ã®å½±éŸ¿

- æ°—åˆ†ç¯„å›²: -1.0ã€œ1.0
- ãƒªãƒ—ãƒ©ã‚¤å—ä¿¡: +0.1
- ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³å—ä¿¡: +0.05
- feedback_sensitivity ã§èª¿æ•´

## é–¢ä¿‚ã‚¿ã‚¤ãƒ—

### ã‚°ãƒ«ãƒ¼ãƒ—

åŒã˜è¶£å‘³ã‚„è·æ¥­ã®NPCã‚°ãƒ«ãƒ¼ãƒ—ã€‚

```yaml
- id: rust_lovers
  members: [npc001, npc003, npc007]
  interaction:
    reply_probability: 0.5
    reaction_probability: 0.7
    topics: [Rust]
```

### ãƒšã‚¢é–¢ä¿‚

2äººã®ç‰¹åˆ¥ãªé–¢ä¿‚ã€‚

| ã‚¿ã‚¤ãƒ— | èª¬æ˜Ž |
|--------|------|
| close_friends | è¦ªå‹ |
| couple | å¤«å©¦ãƒ»æ‹äºº |
| siblings | å…„å¼Ÿå§‰å¦¹ |
| rivals | ãƒ©ã‚¤ãƒãƒ« |
| mentor | å¸«å¼Ÿ |
| awkward | æ°—ã¾ãšã„ |

### ã‚¹ãƒˆãƒ¼ã‚«ãƒ¼

ä¸€æ–¹çš„ã«ç›£è¦–ã™ã‚‹é–¢ä¿‚ã€‚

- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®æŠ•ç¨¿ã‚’ãƒã‚§ãƒƒã‚¯
- ç¢ºçŽ‡ã§ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- å¼•ç”¨ãªã—è¨€åŠï¼ˆã¶ã¤ã¶ã¤ï¼‰

## å¤–éƒ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®åå¿œ

å¤–éƒ¨ï¼ˆéžNPCï¼‰ã®æŠ•ç¨¿ã«ã‚‚åå¿œå¯èƒ½ã€‚

1. ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’å–å¾—
2. å†…éƒ¨NPCæŠ•ç¨¿ã‚’é™¤å¤–
3. èˆˆå‘³ãŒåˆè‡´ã™ã‚‹æŠ•ç¨¿ã‚’é¸å®š
4. ãƒªãƒ—ãƒ©ã‚¤ã¾ãŸã¯ã„ã„ã­
