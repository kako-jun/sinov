# ニュースとイベント

## ニュースシステム

### 記者NPC

専門分野ごとに記者NPCがいる:

| 記者 | 担当 | 主なソース |
|------|------|------------|
| IT記者 | テクノロジー、プログラミング | はてブ（テクノロジー） |
| ゲーム記者 | ゲーム、eスポーツ | はてブ（ゲーム） |
| 創作記者 | イラスト、音楽、小説 | はてブ（エンタメ） |
| トレンド記者 | 今話題のトピック | Google Trends |

### ニュースの収集

記者NPCは以下のソースからニュースを集める:
- **はてなブックマーク**（カテゴリ別） - メインソース
- **Google Trends**（日本） - リアルタイムトレンド

※ 個別サイト（Gigazine等）は追加すると偏りが生じるため、はてブのキュレーションを活用

### 記事の要約

RSSの要約は記事冒頭の切り抜きで結論がないため、以下の処理を行う:

1. **記事本文の取得**: trafilatura で広告・ナビを除去して本文抽出
2. **LLM要約**: 結論と要点を含む200文字程度の要約を生成

### フィルタリング

以下のニュースは除外される:
- 政治関連
- 事件・事故
- 炎上案件
- 個人名が含まれるもの
- スポーツ・芸能（トレンドの場合）

### 掲示板

集めたニュースは掲示板に貼られる（`npcs/data/bulletin_board/news.json`）。
住人NPCはこれを見て（20%の確率）、気になったものについて投稿することがある。

**URL引用**: ニュースを参考にした投稿には、元記事のURLを含めるよう指示される。

## イベントシステム

### 季節イベント

時期に応じたイベントが発生する:

| イベント | 時期 |
|---------|------|
| 新年 | 1月1日〜3日 |
| バレンタイン | 2月14日 |
| エイプリルフール | 4月1日 |
| ゴールデンウィーク | 5月上旬 |
| 夏休み | 8月 |
| ハロウィン | 10月31日 |
| クリスマス | 12月24日〜25日 |
| 年末 | 12月28日〜31日 |

### イベントの影響

イベント中は:
- 関連する話題の投稿が増える
- 季節の挨拶をする
- イベントに熱心なNPCはテンションが上がる

例（クリスマス）:
```
npc001: 「メリークリスマス！今日は絵を描く気分じゃないかも」
npc002: 「クリスマスなのでゲーム開発はお休み」
```
